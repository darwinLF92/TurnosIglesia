{% block content %}
<div class="detalle-container">
    <!-- Cabecera -->
    <div class="detalle-header">
        <div class="detalle-header-title">
            {{ inscripcion.devoto.nombre }}
        </div>
        <div class="detalle-header-sub">
            Turno {{ inscripcion.turno.numero_turno }} – {{ inscripcion.turno.referencia }}
        </div>
    </div>

    <!-- Detalle en filas -->
    <div class="detalle-grid">

        <div class="detalle-item">
            <span class="detalle-label">Fecha de inscripción:</span>
            <span class="detalle-value">
                {{ inscripcion.fecha_inscripcion|date:"d-m-Y H:i" }}
            </span>
        </div>

        <!-- ⭐ NUEVO CAMPO: TIPO DE INSCRIPCIÓN ⭐ -->
        <div class="detalle-item">
            <span class="detalle-label">Tipo de inscripción:</span>
            <span class="detalle-value">
                {% if inscripcion.tipo_inscripcion == 'online' %}
                    <span class="badge badge-info">En línea</span>
                {% elif inscripcion.tipo_inscripcion == 'presencial' %}
                    <span class="badge badge-warning">Presencial</span>
                {% else %}
                    <span class="badge badge-secondary">No definido</span>
                {% endif %}
            </span>
        </div>
        <!-- ⭐ FIN DEL CAMPO NUEVO ⭐ -->

        <div class="detalle-item">
            <span class="detalle-label">Entregado:</span>
            <span class="detalle-value">
                {% if inscripcion.entregado %}
                    <span class="badge badge-entregado">Sí</span>
                {% else %}
                    <span class="badge badge-no-entregado">No</span>
                {% endif %}
            </span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Fecha de entrega:</span>
            <span class="detalle-value">
                {% if inscripcion.fecha_entrega %}
                    {{ inscripcion.fecha_entrega|date:"d-m-Y H:i" }}
                {% else %}
                    No entregado
                {% endif %}
            </span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Fecha entrega estimada:</span>
            <span class="detalle-value">
                {{ inscripcion.fecha_entrega_estimada|date:"d-m-Y" }}
                a las {{ inscripcion.fecha_entrega_estimada|date:"H:i" }} horas
            </span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Lugar de entrega:</span>
            <span class="detalle-value">
                {{ inscripcion.lugar_entrega|default:"Sin definir" }}
            </span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Estado inscripción:</span>
            <span class="detalle-value">
                {% if inscripcion.inscrito %}
                    <span class="badge badge-estado-ok">INSCRITO</span>
                {% else %}
                    <span class="badge badge-estado-bad">NO INSCRITO</span>
                {% endif %}
            </span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Contraseña de inscripción:</span>
            <span class="detalle-value">
                {{ inscripcion.codigo }}
            </span>
        </div>
    </div>

    <!-- KPIs -->
    <div class="detalle-resumen">
        <div class="detalle-kpi">
            <div class="detalle-kpi-label">Valor del turno</div>
            <div class="detalle-kpi-value">Q{{ inscripcion.valor_turno }}</div>
        </div>
        <div class="detalle-kpi">
            <div class="detalle-kpi-label">Monto pagado</div>
            <div class="detalle-kpi-value">Q{{ inscripcion.monto_pagado }}</div>
        </div>
        <div class="detalle-kpi">
            <div class="detalle-kpi-label">Cambio</div>
            <div class="detalle-kpi-value">Q{{ inscripcion.cambio }}</div>
        </div>
    </div>
</div>

<style>
/* === TARJETA ESTILO DETALLE TURNO === */
.detalle-container {
    max-width: 540px;
    margin: auto;
    background: linear-gradient(145deg, #fefce8, #fef9c3);
    padding: 20px 22px;
    border-radius: 16px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
    border: 1px solid rgba(234, 179, 8, 0.35);
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

/* Cabecera */
.detalle-header {
    margin-bottom: 14px;
    padding-bottom: 10px;
    border-bottom: 1px dashed rgba(148, 163, 184, 0.6);
}

.detalle-header-title {
    font-size: 20px;
    font-weight: 800;
    color: #1f2937;
}

.detalle-header-sub {
    font-size: 14px;
    color: #4b5563;
}

/* Grid */
.detalle-grid {
    display: grid;
    grid-template-columns: 1fr;
    row-gap: 8px;
}

.detalle-item {
    font-size: 15px;
    color: #374151;
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
}

.detalle-label {
    font-weight: 700;
    color: #111827;
}

.detalle-value {
    font-weight: 500;
}

/* Badges */
.badge {
    display: inline-flex;
    align-items: center;
    padding: 3px 10px;
    border-radius: 999px;
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: .05em;
}

.badge-info {
    background: rgba(59, 130, 246, 0.18);
    color: #1e3a8a;
}

.badge-warning {
    background: rgba(234, 179, 8, 0.18);
    color: #92400e;
}

.badge-secondary {
    background: rgba(148, 163, 184, 0.20);
    color: #374151;
}

.badge-entregado {
    background: rgba(22, 163, 74, 0.15);
    color: #166534;
}

.badge-no-entregado {
    background: rgba(239, 68, 68, 0.15);
    color: #b91c1c;
}

.badge-estado-ok {
    background: rgba(22, 163, 74, 0.15);
    color: #14532d;
}

.badge-estado-bad {
    background: rgba(239, 68, 68, 0.15);
    color: #7f1d1d;
}

/* KPIs */
.detalle-resumen {
    margin-top: 12px;
    padding-top: 10px;
    border-top: 1px dashed rgba(148, 163, 184, 0.6);
    display: flex;
    flex-wrap: wrap;
    gap: 14px;
}

.detalle-kpi {
    flex: 1 1 120px;
}

.detalle-kpi-label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: .08em;
    color: #6b7280;
}

.detalle-kpi-value {
    font-size: 18px;
    font-weight: 800;
    color: #1f2937;
}
</style>

{% endblock %}
