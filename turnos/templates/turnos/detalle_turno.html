{% block content %}

<style>
/* === SWEETALERT POPUP === */
.swal-popup.my-custom-modal-class {
    background: radial-gradient(circle at top, #1f2933, #020617) !important;
    border-radius: 18px !important;
    box-shadow: 0 18px 40px rgba(0,0,0,0.55) !important;
    padding: 18px !important;
}

/* Título del SweetAlert */
.swal2-title {
    color: #e5e7eb !important;
    letter-spacing: .5px;
    font-weight: 700 !important;
}

/* === TARJETA INTERNA === */
.detalle-container {
    max-width: 540px;
    margin: auto;
    background: linear-gradient(145deg, #fefce8, #fef9c3);
    padding: 20px 22px;
    border-radius: 16px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
    border: 1px solid rgba(234, 179, 8, 0.35);
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

/* Cabecera del turno */
.detalle-header {
    margin-bottom: 14px;
    padding-bottom: 10px;
    border-bottom: 1px dashed rgba(148, 163, 184, 0.6);
}

.detalle-header-title {
    font-size: 20px;
    font-weight: 800;
    color: #1f2937;
    margin-bottom: 4px;
}

.detalle-header-sub {
    font-size: 14px;
    color: #4b5563;
}

/* Grid de items */
.detalle-grid {
    display: grid;
    grid-template-columns: 1fr;
    row-gap: 8px;
}

/* Cada fila */
.detalle-item {
    font-size: 15px;
    color: #374151;
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
}

.detalle-label {
    font-weight: 700;
    color: #111827;
}

.detalle-value {
    font-weight: 500;
}

/* Badges para clase y reserva */
.badge {
    display: inline-flex;
    align-items: center;
    padding: 2px 10px;
    border-radius: 999px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: .04em;
}

.badge-clase {
    background: rgba(22, 163, 74, 0.12);
    color: #166534;
}

.badge-reservado {
    background: rgba(234, 179, 8, .16);
    color: #92400e;
}

.badge-no-reservado {
    background: rgba(148, 163, 184, .18);
    color: #374151;
}

/* Resaltar números importantes */
.detalle-resumen {
    margin-top: 12px;
    padding-top: 10px;
    border-top: 1px dashed rgba(148, 163, 184, 0.6);
    display: flex;
    flex-wrap: wrap;
    gap: 14px;
}

.detalle-kpi {
    flex: 1 1 120px;
}

.detalle-kpi-label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: .08em;
    color: #240732;
    margin-bottom: 2px;
}

.detalle-kpi-value {
    font-size: 18px;
    font-weight: 800;
    color: #1f2937;
    
}

/* Responsive */
@media (max-width: 480px) {
    .detalle-container {
        padding: 16px;
    }
    .detalle-header-title {
        font-size: 18px;
    }
}
</style>

<div class="detalle-container">
    <!-- Cabecera -->
    <div class="detalle-header">
        <div class="detalle-header-title">
            Turno {{ turno.numero_turno }}
        </div>
        <div class="detalle-header-sub">
            {{ turno.procesion.nombre }}
        </div>
    </div>

    <!-- Detalle en filas -->
    <div class="detalle-grid">
        <div class="detalle-item">
            <span class="detalle-label">Referencia:</span>
            <span class="detalle-value">{{ turno.referencia }}</span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Valor:</span>
            <span class="detalle-value">Q{{ turno.valor }}</span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Marcha Fúnebre:</span>
            <span class="detalle-value">{{ turno.marcha_funebre }}</span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Tipo de turno:</span>
            <span class="detalle-value">{{ turno.get_tipo_turno_display }}</span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Clase:</span>
            <span class="detalle-value">
                <span class="badge badge-clase">
                    {{ turno.get_clase_turno_display }}
                </span>
            </span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Reservado:</span>
            <span class="detalle-value">
                {% if turno.reservado_hermandad %}
                    <span class="badge badge-reservado">
                        {% if turno.nombre_hermandad_visitante %}
                            Sí · {{ turno.nombre_hermandad_visitante }}
                        {% else %}
                            Sí · Extraordinario
                        {% endif %}
                    </span>
                {% else %}
                    <span class="badge badge-no-reservado">
                        No
                    </span>
                {% endif %}
            </span>
        </div>

        <div class="detalle-item">
            <span class="detalle-label">Fecha de entrega:</span>
            <span class="detalle-value">
                {% if turno.fecha_entrega %}
                    {{ turno.fecha_entrega|date:"d-m-Y H:i" }}
                {% else %}
                    Sin definir
                {% endif %}
            </span>
        </div>
    </div>

    <!-- KPIs abajo -->
    <div class="detalle-resumen">
        <div class="detalle-kpi">
            <div class="detalle-kpi-label">Capacidad</div>
            <div class="detalle-kpi-value">{{ turno.capacidad }}</div>
        </div>
        <div class="detalle-kpi">
            <div class="detalle-kpi-label">Inscritos</div>
            <div class="detalle-kpi-value">{{ inscritos_count }}</div>
        </div>
        <div class="detalle-kpi">
            <div class="detalle-kpi-label">T. Disponible</div>
            <div class="detalle-kpi-value">{{ turnos_disponibles }}</div>
        </div>
    </div>
</div>

{% endblock %}
